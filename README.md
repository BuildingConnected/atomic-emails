# Atomic Emails

A toolkit for building emails.

Atomic Emails is a collection of utilities that helps you build emails that are compatible with a variety of email clients. As most web developers know, when you build a website you should ensure it looks good and works well in all the major browsers. Similarly, when you build an email you need to ensure it looks good in all the major email clients. Unfortunately, there are many more email clients than there are major browsers, and many of them use different engines to render html. Some of these engines are very old, and do not support common css styles and element properties. This can make it quite challenging for the developer to implement beautiful designs in emails.

Atomic Emails provides the following packages:

- Style Validator
- WithEmailValidation - React Higher Order Component
- React Atomic Email Components
- Server Side Email Renderer


### Style Validator

The Style Validator is simply a higher-order function that you pass a config and it returns a function that ensures css styles used are compatible with the email clients you specify in the config. [Full listing of all clients]().

Example usage:

```javascript
const config = {
	supportedClients: {
		"Outlook 2007â€“16": true,
		"Gmail": true,
		"Yahoo! Mail": true,
	},
}

const { styleValidator } = require('atomic-emails')

const myStyleValidator = styleValidator(config)
```

You can now invoke your style validator and pass it a style object. The style object is simple a plain javascript object with keys that are css styles and the corresponding values. It will ensure all styles used are compatible with the email clients you selected. It will return an object with the following properties:

```javascript
const style = {
	border: '1px solid #E0E0E0',
	padding: '15px',
	'flex-grow': '1',
	'flex-shrink': '1',
	'flex-basis': 'auto',
}

const {
	isValid,
	warnings,
	errors,
} = myStyleValidator({ style })
```

- `isValid`: A boolean that will be false if any style is not supported. Will be true if all styles are supported or partially supported.
- `partiallySupported`: An array of objects identifying partially supported styles.
  + `style`: A string naming the partially supported style.
  + `info`: A string describing the partial support.
  + `client`: A string naming the email client.
- `notSupported`: An array of objects identifying styles that are not supported.
  + `style`: A string naming the unsupported style.
  + `client`: A string naming the email client.

**support.json**

The Style Validator checks for support using a json document that is generated by scraping CampaignMonitor's [Ultimate Guide to CSS](https://www.campaignmonitor.com/css/): "A complete breakdown of the CSS support for the most popular mobile, web and desktop email clients on the planet."

The Style Validator is framework agnostic and can be used in the browser or on the server.
